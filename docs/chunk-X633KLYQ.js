import{I as x,J as C,L as v,M as g,N as y,P as S,W as _,X as P,ca as w,fa as F,q as h,va as E}from"./chunk-MGRJPO3X.js";import{Ab as s,Da as l,Ia as c,Oa as p,Ob as a,Pb as m,Ua as f,Wb as b,lb as u,mb as t,nb as i,ob as d}from"./chunk-JON7ULIB.js";var G=()=>({"min-width":"100%"});function I(r,e){r&1&&(t(0,"tr")(1,"th"),a(2,"\u0639\u0646\u0648\u0627\u0646"),i(),t(3,"th"),a(4,"\u0645\u0642\u062F\u0627\u0631 ( "),t(5,"span",8),a(6," \u062A\u0648\u0645"),t(7,"span",9),a(8,"\u0646"),i(),a(9,"\u0627 "),i(),a(10," ) "),i()())}function T(r,e){if(r&1&&(t(0,"tr")(1,"td"),a(2),i(),t(3,"td"),a(4),i()()),r&2){let n=e.$implicit,o=s();l(2),m(n.label),l(2),m(o.format(n.value))}}function M(r,e){if(r&1&&(t(0,"tr",10)(1,"td"),a(2,"\u062C\u0645\u0639 \u06A9\u0644"),i(),t(3,"td"),a(4),i()()),r&2){let n=s();l(4),m(n.format(n.totalPrice))}}var N=class r{constructor(e){this.fb=e;this.form=this.fb.group({grams:[null]})}form;buyPerGram=8579888;buyPrice=0;sellPrice=0;commission=0;insurance=0;tax=0;extra=0;calcResults=[];ngOnInit(){this.form.valueChanges.subscribe(()=>{let e=Number(this.form.get("grams")?.value)||0;this.calculate(e)}),this.calculate(0)}calculate(e){this.buyPrice=Math.round(e*this.buyPerGram),this.commission=Math.round(this.buyPrice*5e-4),this.insurance=Math.round(this.buyPrice*4e-4),this.tax=Math.round(this.buyPrice*6e-4),this.extra=Math.round(this.buyPrice*3e-4),this.calcResults=[{label:"\u0642\u06CC\u0645\u062A \u062E\u0631\u06CC\u062F",value:this.buyPrice},{label:"\u06A9\u0627\u0631\u0645\u0632\u062F",value:this.commission},{label:"\u0647\u0632\u06CC\u0646\u0647 \u0628\u06CC\u0645\u0647 \u0648 \u0646\u06AF\u0647\u062F\u0627\u0631\u06CC",value:this.insurance},{label:"\u0627\u062C\u0631\u062A",value:this.extra},{label:"\u0645\u0627\u0644\u06CC\u0627\u062A",value:this.tax}]}format(e){return e.toLocaleString("fa-IR")}get totalPrice(){return this.buyPrice+this.commission+this.insurance+this.extra+this.tax}static \u0275fac=function(n){return new(n||r)(c(S))};static \u0275cmp=p({type:r,selectors:[["app-calculator"]],decls:10,vars:7,consts:[["pAnimateOnScroll","","enterClass","animate-enter fade-in-10 slide-in-from-r-8 animate-duration-1000",1,"calculator"],[1,"title","flex","justify-center","items-center","gap-5","my-5","textColor","before:content-['']","before:block","before:h-[2px]","before:w-[80px]","before:bg-baseGoldColor","after:content-['']","after:block","after:h-[2px]","after:w-[80px]","after:bg-baseGoldColor","whitespace-nowrap"],[1,"mt-8","flex","justify-center","mb-8",3,"formGroup"],["formControlName","grams","placeholder","\u06AF\u0631\u0645 \u0637\u0644\u0627",1,"w-full","sm:w-2/6","xl:w-1/6","!p-l-0",3,"min","showButtons","mode"],[1,"mt-8",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"custom-toman","!mr-0","ml-1"],[1,"overlay-n"],[1,"font-bold","text-base-gold"]],template:function(n,o){n&1&&(t(0,"div",0)(1,"p-card")(2,"h1",1),a(3,"\u0645\u0627\u0634\u06CC\u0646 \u062D\u0633\u0627\u0628 \u062E\u0631\u06CC\u062F \u0637\u0644\u0627\u06CC \u0622\u0628 \u0634\u062F\u0647"),i(),t(4,"form",2),d(5,"p-inputNumber",3),i(),t(6,"p-table",4),f(7,I,11,0,"ng-template",5)(8,T,5,2,"ng-template",6)(9,M,5,1,"ng-template",7),i()()()),n&2&&(l(4),u("formGroup",o.form),l(),u("min",0)("showButtons",!0)("mode","decimal"),l(),u("value",o.calcResults)("tableStyle",b(6,G)))},dependencies:[E,h,_,P,F,w,v,x,C,g,y],encapsulation:2})};export{N as Calculator};
