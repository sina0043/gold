<div
    class="p-3 border border-surface-200 dark:border-surface-700 bg-bgGlasses rounded flex flex-col xs:m-auto">
    <div class="flex justify-center rounded pt-1">
        <div class="relative mx-auto d-ltr">
            <p-galleria [value]="product?.images" [containerStyle]="{ 'max-width': '640px' }" [numVisible]="3"
                [activeIndex]="product?.activeIndex">
                <ng-template #item let-image>
                    <img class="w-full h-[200px]" [src]="'/image/gold/' + image.id" [alt]="image.id" />
                </ng-template>
                <ng-template #thumbnail let-image>
                    <img [src]="'/image/gold/' + image.id" class="max-h-[50px]" [alt]="image.id" />
                </ng-template>
            </p-galleria>
            @if (product?.inventoryStatus === 'OUTOFSTOCK') {
            <p-tag value="اتمام موجودی" class="absolute !text-[#b91c1c]" [style.left.px]="4" [style.top.px]="4"
                severity="danger">
            </p-tag>
            }
        </div>
    </div>
    <div class="pt-6">
        <div class="flex justify-between items-center">
            <div class="text-lg font-medium">{{ product?.name }}</div>
            <div class="bg-surface-100 p-1" style="border-radius: 30px; height:100%">
                <div class="bg-surface-0 flex products-center gap-2 justify-center py-1 px-2"
                    style="border-radius: 30px; box-shadow: 0px 1px 2px 0px rgba(0,0,0,0.04), 0px 1px 2px 0px rgba(0,0,0,0.06)">
                    <span class="text-surface-900 font-medium text-sm">{{ product?.rating }}</span>
                    <i class="pi pi-star-fill text-yellow-500"></i>
                </div>
            </div>
        </div>
        <p class="text-surface-500 mt-4">وزن: {{ product?.weight }}</p>
        <p class="text-surface-500 mt-4">اجرت: {{ product?.fee }}</p>
        <div class="mt-4">قیمت نهایی : <span class="font-semibold mt-4">{{ product?.price | currency:'
                ':'symbol':'1.0-0' }}</span>
            <span class="custom-toman">
                توم<span class="overlay-n">ن</span>ا
            </span>
        </div>
        <div class="flex gap-2 mt-4">
            <button outlined (click)="toggleShoppinglist()" pButton
                [icon]="inShoppinglist ? 'pi pi-cart-arrow-down' : 'pi pi-shopping-cart'"
                [label]="inShoppinglist ? 'حذف از سبد خرید' : 'افزودن به سبد خرید'"
                [disabled]="product?.inventoryStatus === 'OUTOFSTOCK'"
                class="flex-auto whitespace-nowrap !text-[14px] d-ltr">
            </button>
            <button pButton [pTooltip]="product?.isInWishList ? 'حذف از لیست علاقه مندی ها' : 'افزودن به لیست علاقه مندی ها'" tooltipPosition="left"
                [icon]="product?.isInWishList ? 'pi pi-heart-fill' : 'pi pi-heart'" outlined (click)="toggleWishlist()"></button>
        </div>
    </div>
</div>